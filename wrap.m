function index = wrap(x, N)
    index = 1 + mod(x-1, N);
end